### 异常throw

### anctivity-string

### activity绑定自定义视图layout

oncreate



更改activity名，activity.java右键refector->rename



avtivit.java 绑定其他布局

  layout-》 new->layout resource file

```
setContentView(R.layout.activity_main1);
```

### 启动自定义activity

java 新建activity，通过按键转到另一个activity和另一个布局。

```
        findViewById(R.id.button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                startActivity(new Intent(MainActivity.this，Main2Activity.class));
            }
        });
```

```
Intent i= new Intent(MainActivity.this,Main2Activity.class);
startActivity(i);
```

- **显式Intent**：通过组件名指定启动的目标组件,比如startActivity(new Intent(A.this,B.class)); 
  每次启动的组件只有一个~
- **隐式显式Intent**:不指定组件名,而指定Intent的Action,Data,或Category,当我们启动组件时, 
  会去匹配AndroidManifest.xml相关组件的Intent-filter,逐一匹配出满足属性的组件,当不止一个满足时, 
  会弹出一个让我们选择启动哪个的对话框~

跳转网页

```
startActivity(new Intent(Intent.ACTION_VIEW,
Uri.parse("https://haitianyibi.github.io/WEB/")));
```



```
1. Intent it = new Intent();
2. it.setAction(Intent.ACTION_VIEW);
3. it.setData(Uri.parse("http://www.baidu.com"));
4. startActivity(it);
```



### avtivity生命周期

![image-20200116183151204](%E6%9D%82.assets/image-20200116183151204.png)

**完整生命周期：完整生命周期始于onCreate方法回调，止于onDestroy方法回调
可见周期：可见周期始于onStart方法回调，止于onStop方法回调
前台周期：前台周期始于onResume方法回调，止于onPause方法回**

**onCreate 生命周期的第一个方法**，表示Activity正在创建(启动)。特别说明：若您在该方法内调用finish方法，则会立即出发onDestroy回调，其他生命周期不会执行

**onRestart 该方法触发的前提**：onStop方法被调用。onStop方法被调用而导致的Activity不可见到Activity再次可见时被调用。该方法回调之后系统会相继触发onStart和onResume方法。

**onStart Activity可见时调用(此时Activity尚未处于前台)**：在onCreate方法之后或由onStop方法被调用而导致的Activity不可见到Activity再次可见时被调用

**onResume 该方法的回调标识Activity处于前台**。官方文档指明，这里比较适合动画启动及排他性设备访问(如相机)等

**onPause Activity即将进入后台时回调此方法**。需要特别注意的是，若Activity A启动Activity B，则Activity A的onPause方法回调完成后，Activity B才会创建，因此不要在该回调方法中做耗时操作。

**onStop Activity由可见到不可见时回调此方法**

**onDestroy 生命周期的最后一个方法，表示Activity即将被销毁**。官方文档指明，在某些情况下，系统会简单粗暴的杀掉Activity的宿主进程(如下文示意图中的标注1)，因此我们不应该依赖此方法做数据存储工作，可在此方法中做资源释放操作

onCreate():
当我们点击activity的时候，系统会调用activity的oncreate()方法，在这个方法中我们会初始化当前布局setContentLayout（）方法。
onStart():
onCreate()方法完成后，此时activity进入onStart()方法,当前activity是用户可见状态，但没有焦点，与用户不能交互，一般可在当前方法做一些动画的初始化操作。
onResume():
onStart()方法完成之后，此时activity进入onResume()方法中，当前activity状态属于运行状态 (Running)，可与用户进行交互。
onPouse()
当另外一个activity覆盖当前的acitivty时，此时当前activity会进入到onPause()方法中，当前activity是可见的，但不能与用户交互状态。
onStop()
onPause()方法完成之后，此时activity进入onStop()方法，此时activity对用户是不可见的，在系统内存紧张的情况下，有可能会被系统进行回收。所以一般在当前方法可做资源回收。
onDestory()
onStop()方法完成之后，此时activity进入到onDestory()方法中，结束当前activity。
onRestart()
onRestart()方法在用户按下home()之后，再次进入到当前activity的时候调用。调用顺序onPouse()->onStop()->onRestart()->onStart()->onResume().

### 传递简单数据

```
findViewById(R.id.button).setOnClickListener(new View.OnClickListener() {
    @Override
    public void onClick(View v) {
        Intent i= new Intent(MainActivity.this,Main2Activity.class);
        i.putExtra("dataname","datavalue_to_activity2");//键值对
        startActivity(i);
    }
});
```

启动intent之前，将键值对放入intent对象putExtra

```
private TextView textview;//变量文本
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main2);
    Intent i=getIntent();//获得启动的intent实例
    textview=(TextView) findViewById(R.id.textView);//绑定文本id
    textview.setText(i.getStringExtra("dataname"));//设置文本
}
```

getIntent()

getStringExtra

findViewById

setText

### 传递数据包

```
 findViewById(R.id.button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Intent i= new Intent(MainActivity.this,Main2Activity.class);
//                i.putExtra("dataname","love you");
                Bundle b=new Bundle();
                b.putString("name","love you");
                b.putString("name1","love me");//数据包放入键值对
                b.putInt("age",2);
                i.putExtra("data",b);//intent获得数据包
                startActivity(i);
            }
        });
```

```
    private TextView textview;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main2);
        Intent i=getIntent();//获得启动的intent实例
//        Bundle data =i.getExtras();//获得数据包
        Bundle data=i.getBundleExtra("data");
        textview=(TextView) findViewById(R.id.textView);

//        textview.setText(i.getStringExtra("dataname"));
        textview.setText(String.format("name=%s,age=%d",data.getString("name"),data.getInt("age")));
    }
```

​                i.putExtra("data",b);//intent获得数据包    Bundle data = i.getBundleExtra("data");

  				i.putExtra(b);			Bundle data =i.getExtras();

### 传递值对象

 serializable

parcelble

### 获取activity返回参数

